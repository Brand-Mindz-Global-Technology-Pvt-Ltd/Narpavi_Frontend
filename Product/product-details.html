<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Product Details</title>
    <script defer src="productdetail.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Auth Utils -->
    <script src="../Auth/auth-utils.js"></script>
    
    <style>
      body {
        font-family: "Inter", sans-serif;
        background-color: #fff;
      }
    </style>
  </head>

  <body class="text-gray-800">
    <div class="bg-[#FFE8D6]">
 <section class="py-10 px-4">
      <div class="max-w-6xl mx-auto grid md:grid-cols-2 gap-6 md:gap-10 items-start">

        <!-- LEFT: Dynamic Image Container -->
        <div class="flex flex-col items-center">
          <img id="mainImage" src="" class="w-full max-w-sm h-auto rounded-xl shadow-md mx-auto" />

          <!-- Thumbnail images -->
          <div id="thumbnailContainer" class="flex justify-center gap-3 mt-5 flex-wrap"></div>
        </div>

        <!-- RIGHT -->
        <div class="bg-white w-full rounded-2xl shadow-lg p-6">
          <h2 id="productName" class="text-2xl font-bold text-gray-800"></h2>

<div id="productPriceContainer" class="mt-2 flex items-center gap-4">
    <p id="productPrice" class="text-amber-700 text-xl font-semibold"></p>
  </div>
  <div id="productPriceContainer" class="mt-2 flex items-center gap-4">
    <p id="productStrikePrice" class="text-gray-500 text-lg line-through"></p>
  </div>
          <p id="productDesc" class="mt-4 text-gray-700 leading-relaxed"></p>
<div id="variationContainer" class="mt-4 flex gap-4 flex-wrap"></div>


     
    <div class="mt-4">
  <h3 class="font-semibold">Weight</h3>
  <div id="weightBox" class="inline-block bg-amber-100 text-[#8B4513] font-medium px-3 py-1 rounded-md text-sm mt-1">
    <!-- quantity will come here -->
  </div>
</div>


        <div class="mt-4">
          <h3 class="font-semibold">Quantity</h3>
          <div class="flex flex-wrap items-center gap-2 mt-2">
            <div class="flex items-center gap-2">
              <button class="px-3 py-1 border rounded hover:bg-gray-100">-</button>
              <span class="px-4 py-1 border rounded">1</span>
              <button class="px-3 py-1 border rounded hover:bg-gray-100">+</button>
            </div>
            <button class="flex-1 border border-[#8B4513] text-[#8B4513] font-medium px-6 py-2 rounded hover:bg-[#8B4513] hover:text-white transition w-full sm:w-auto">
              Add to cart
            </button>
          </div>
          <button class="w-full bg-[#8B4513] text-white font-medium py-2 rounded mt-3 hover:bg-[#A0522D] transition">
            Buy it now
          </button>
        </div>
        </div>

      </div>
    </section>
    </div>

    <!-- Product Description Section -->
<section class="bg-white py-16 px-6 font-[Alata]">
  <div class="max-w-5xl mx-auto">
    <!-- Title with underline styles -->
    <div class="text-center mb-10 relative">
      <h2 class="text-2xl font-bold mb-4">Product Description</h2>

      <!-- Full-width faint line -->
      <div class="absolute left-4 right-4 top-[calc(100%+2px)] h-[2px] bg-gray-300"></div>
      <!-- Short highlighted black line -->
      <div class="w-24 h-[3px] bg-black mx-auto mt-1 relative z-10"></div>
    </div>

    <!-- Description content dynamically from API -->
    <ul id="productDescriptionList" class="text-gray-700 text-left list-disc space-y-3 pl-6"></ul>
  </div>
</section>


    <!-- Google Font -->
    <link
      href="https://fonts.googleapis.com/css2?family=Alata&display=swap"
      rel="stylesheet"
    />

    <!-- Recommended Product Section -->
<section class="bg-white py-12 px-6 font-[Alata]">
  <div class="max-w-6xl mx-auto">
    <h2 class="text-2xl font-bold mb-6">Recommended Products</h2>

<div id="recommendedProducts" class="grid grid-cols-2 md:grid-cols-4 gap-4 mt-4">
        <!-- Dynamic items will come here -->
    </div>
  </div>
</section>

    <!-- Customer Reviews Section -->
    <section class="bg-[#FFF6E6] py-12 px-4 md:px-12">
      <div
        class="w-full max-w-7xl mx-auto bg-white rounded-lg shadow-md border border-gray-200 p-8 md:p-10"
      >
        <!-- Header -->
        <div
          class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6"
        >
          <h2 class="text-2xl font-bold text-gray-800">Customer Reviews</h2>
          <button
            class="mt-3 md:mt-0 bg-white border border-gray-400 text-gray-700 px-4 py-1.5 rounded hover:bg-gray-100 transition"
          >
            Write Review
          </button>
        </div>

        <!-- Overall Rating -->
        <div class="flex flex-col md:flex-row items-start gap-6 mb-6">
          <div class="flex flex-col items-start">
            <div class="flex items-center text-yellow-400 text-2xl">
              <span>★★★★★</span>
            </div>
            <p class="text-gray-700 text-sm mt-1">Based on 100 reviews</p>
          </div>

          <!-- Rating Bars -->
          <div class="space-y-3 w-full max-w-md">
            <div class="flex items-center gap-3">
              <div class="flex text-yellow-400 text-sm min-w-[60px]">
                <span>★★★★★</span>
              </div>
              <div class="h-3 w-[200px] bg-gray-200">
                <div class="h-3 bg-[#8B4513]" style="width: 75%"></div>
              </div>
              <span class="text-sm text-gray-600 w-[40px] text-right">75%</span>
            </div>

            <div class="flex items-center gap-3">
              <div class="flex text-yellow-400 text-sm min-w-[60px]">
                <span>★★★★☆</span>
              </div>
              <div class="h-3 w-[200px] bg-gray-200">
                <div class="h-3 bg-[#8B4513]" style="width: 60%"></div>
              </div>
              <span class="text-sm text-gray-600 w-[40px] text-right">60%</span>
            </div>

            <div class="flex items-center gap-3">
              <div class="flex text-yellow-400 text-sm min-w-[60px]">
                <span>★★★☆☆</span>
              </div>
              <div class="h-3 w-[200px] bg-gray-200">
                <div class="h-3 bg-[#8B4513]" style="width: 10%"></div>
              </div>
              <span class="text-sm text-gray-600 w-[40px] text-right">10%</span>
            </div>

            <div class="flex items-center gap-3">
              <div class="flex text-yellow-400 text-sm min-w-[60px]">
                <span>★★☆☆☆</span>
              </div>
              <div class="h-3 w-[200px] bg-gray-200">
                <div class="h-3 bg-[#8B4513]" style="width: 0%"></div>
              </div>
              <span class="text-sm text-gray-600 w-[40px] text-right">0%</span>
            </div>

            <div class="flex items-center gap-3">
              <div class="flex text-yellow-400 text-sm min-w-[60px]">
                <span>★☆☆☆☆</span>
              </div>
              <div class="h-3 w-[200px] bg-gray-200">
                <div class="h-3 bg-[#8B4513]" style="width: 0%"></div>
              </div>
              <span class="text-sm text-gray-600 w-[40px] text-right">0%</span>
            </div>
          </div>
        </div>

        <hr class="my-6 border-gray-300" />

        <!-- Individual Reviews -->
        <div class="space-y-6">
          <div
            class="flex flex-col md:flex-row items-start gap-4 pb-4 border-b border-gray-200"
          >
            <img
              src="./Images/user1.jpg"
              alt="User"
              class="w-12 h-12 rounded-full object-cover"
            />
            <div class="flex-1">
              <h4 class="font-semibold text-gray-800">Santhosh</h4>
              <div class="text-yellow-400 text-sm mb-1">★★★★★</div>
              <p>Narpavai Honey is good taste.</p>
            </div>
          </div>

          <div class="flex flex-col md:flex-row items-start gap-4 pb-4">
            <img
              src="./Images/user2.jpg"
              alt="User"
              class="w-12 h-12 rounded-full object-cover"
            />
            <div class="flex-1">
              <h4 class="font-semibold text-gray-800">Selvi</h4>
              <div class="text-yellow-400 text-sm mb-1">★★★★★</div>
              <p>Narpavai Honey is good taste.</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- JS for Share Tooltip -->
    <script>
      // ======== AUTH PROTECTION ======== //
      if (!AuthUtils.initPageProtection()) {
        throw new Error('Authentication required');
      }

      const shareBtn = document.getElementById("shareBtn");
      const tooltip = document.getElementById("shareTooltip");
      const copyLink = document.getElementById("copyLink");

      shareBtn.addEventListener("click", () => {
        tooltip.classList.toggle("hidden");
      });

      // Copy link functionality
      copyLink.addEventListener("click", () => {
        navigator.clipboard.writeText(window.location.href);
        copyLink.innerHTML = "✅ Copied!";
        setTimeout(() => {
          copyLink.innerHTML = `
        <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M10 14L21 3m0 0a2.828 2.828 0 00-4-4L6 10a2.828 2.828 0 004 4l11-11z" />
        </svg>
        Copy Link
      `;
        }, 2000);
      });

      // Hide tooltip if clicked outside
      window.addEventListener("click", (e) => {
        if (!shareBtn.contains(e.target) && !tooltip.contains(e.target)) {
          tooltip.classList.add("hidden");
        }
      });
    </script>

  </body>
</html>
